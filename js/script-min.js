const body=document.body,pageHeader=document.querySelector(".page-header"),scrollbar=function(){const e=document.createElement("div");e.style.cssText="width: 50px;     height: 50px;    overflow: scroll;  ",body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return body.removeChild(e),t}();function Menu(e){const t=e.menu,n=e.button;t.style.transition="transform 0.8s",t.onclick=function(e){(e.target.classList.contains("main-nav__link")||e.target.classList.contains("main-nav__social-link"))&&r()};let o=!1;function i(){o?r():function(){t.style.paddingRight=`${scrollbar}px`,t.classList.add("main-nav--opened"),o=!0;const e=new Event("open",{bubbles:!0});t.dispatchEvent(e)}()}function r(){t.style.paddingRight="",t.classList.remove("main-nav--opened"),o=!1;const e=new Event("close",{bubbles:!0});t.dispatchEvent(e)}n.addEventListener("click",e=>{i()})}const menu=new Menu({menu:document.querySelector(".main-nav"),button:document.querySelector(".page-header__button")});let timerId;body.addEventListener("open",()=>{body.style.cssText=`overflow: hidden;   padding-right: ${scrollbar}px`}),body.addEventListener("close",()=>{body.style.cssText=""}),pageHeader.addEventListener("open",()=>{pageHeader.classList.add("menu-opened"),pageHeader.style.paddingRight=`${scrollbar}px`,timerId||(pageHeader.style.color="#ffffff"),clearTimeout(timerId),timerId=!1}),pageHeader.addEventListener("close",()=>{pageHeader.classList.remove("menu-opened"),pageHeader.style.paddingRight="",timerId=setTimeout(function(){pageHeader.style.color="",timerId=!1},500)});const works=document.querySelector(".works"),about=document.querySelector(".about");function getElementY(e){return e.getBoundingClientRect().top+window.pageYOffset}function doScrolling(e,t){var n,o=window.pageYOffset,i=e-o;window.requestAnimationFrame(function e(r){n||(n=r);var d=r-n,a=Math.min(d/t,1);window.scrollTo(0,o+i*a),d<t&&window.requestAnimationFrame(e)})}function isVisible(e){const t=e.getBoundingClientRect(),n=document.documentElement.clientHeight,o=t.top>0&&t.bottom<n,i=t.bottom<n&&t.bottm>0;return o||i}window.onscroll=function(){let e=[works,about].map(e=>e.getBoundingClientRect());!pageHeader.classList.contains(".page-header--invert")&&e.some(e=>e.top<50&&e.bottom>50)?pageHeader.classList.add("page-header--invert"):pageHeader.classList.remove("page-header--invert")},document.querySelector(".intro__scroll-down-button").onclick=function(){doScrolling(getElementY(document.querySelector(".works")),400)},document.querySelector(".works__scroll-down-button").onclick=function(){doScrolling(getElementY(document.querySelector(".about")),400)},isVisible(document.querySelector(".slider"));